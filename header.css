/* ============================================= */
/*     TNCLD - CUSTOM CSS (HEAD CODE)          */
/*     Tennessee Centers for Laser Dentistry    */
/* ============================================= */
/*     Copy to Webflow: Settings > Custom Code  */
/*              > Head Code                      */
/*     Wrap in <style> tags when transferring   */
/* ============================================= */

/*
 * This file contains custom CSS for the TNCLD website.
 * Add styles here for local development, then transfer
 * to Webflow Custom Code > Head Code when ready.
 *
 * Created: January 16, 2026
 * Last Updated: January 16, 2026
 */

/* ============================================= */
/*              SMOOTH SCROLL                   */
/* ============================================= */

/* Native CSS smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* ============================================= */
/*              UTILITY CLASSES                 */
/* ============================================= */

/* Hide elements (for CMS empty states, etc.) */
.hide {
  display: none !important;
}

/* Screen reader only (accessible hiding) */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ============================================= */
/*            CUSTOM OVERRIDES                  */
/* ============================================= */

/* Navigation styles moved to STICKY NAV section below */

/* ============================================= */
/*         NAV DROPDOWN CHEVRON FIX             */
/* ============================================= */
/*
 * Fix: Chevron icon jumps right when dropdown opens
 * Ensure consistent spacing between nav text and chevron
 */

/* Lock the dropdown toggle to use consistent flex layout */
.nav-dropdown-toggle.w-dropdown-toggle {
  display: flex !important;
  align-items: center;
  gap: 12px; /* Gap between text and chevron */
}

/* Remove extra padding from nav link text */
.nav-dropdown-toggle .text_label-sm.nav-link {
  white-space: nowrap;
  padding-right: 0 !important; /* Remove 24px padding */
}

/* Keep dropdown icon in fixed position relative to text */
.nav-dropdown-toggle .dropdown-icon {
  position: relative !important;
  flex-shrink: 0;
  width: 20px;
  height: 20px;
  margin-left: 0; /* Remove margin, using gap instead */
  margin-right: 0;
}

/* Ensure icon doesn't shift when dropdown is open */
.nav-dropdown-toggle.w--open .dropdown-icon,
.nav_menu-dropdown.w--open .dropdown-icon {
  position: relative !important;
  margin-left: 0;
}


/* ============================================= */
/*         MEGA NAV POSITIONING FIX             */
/* ============================================= */
/*
 * Fix: Gap between top nav and mega nav dropdown
 * Fix: Mega nav falling off screen on smaller viewports
 */

/* Remove gap between nav and mega dropdown */
.mega-nav-wrapper.w--open {
  margin-top: 0 !important;
  padding-top: 1.5rem !important; /* Reduced from 4rem */
  top: 100% !important; /* Position directly below nav toggle */
  left: 0 !important;
  right: 0 !important;
  max-width: 100vw !important;
  overflow-x: hidden;
}

/* Ensure dropdown list has no gap */
.nav_menu-dropdown .w-dropdown-list.w--open,
.nav_menu-dropdown .mega-nav-wrapper.w--open {
  margin-top: 0 !important;
}

/* Keep mega nav within viewport on smaller screens */
@media screen and (max-width: 1280px) {
  .mega-nav-wrapper.w--open {
    width: 100vw !important;
    left: 50% !important;
    right: auto !important;
    transform: translateX(-50%);
  }
}

/* ============================================= */
/*            RESPONSIVE FIXES                  */
/* ============================================= */

/* Tablet - show utility nav */
@media screen and (max-width: 991px) {
  /* Force utility nav visible on tablet if hidden */
  .navigation.w-nav:not([data-doc-height]) {
    display: flex !important;
  }
}

/* Mobile adjustments */
@media screen and (max-width: 767px) {
  /* Force utility nav visible on mobile if hidden */
  .navigation.w-nav:not([data-doc-height]) {
    display: flex !important;
  }

  /* Adjust utility nav layout for mobile */
  .navigation.w-nav:not([data-doc-height]) .container-lg {
    flex-direction: column;
    padding: 0.5rem 1rem;
  }
}

/* ============================================= */
/*            ANIMATION ENHANCEMENTS            */
/* ============================================= */

/* Smooth transitions for interactive elements */
.transition-smooth {
  transition: all 0.3s ease;
}

/* ============================================= */
/*         STICKY NAV - SCROLL ANIMATION        */
/* ============================================= */
/*
 * Behavior:
 * - Utility nav: Scrolls away normally (not sticky)
 * - Main nav: Becomes fixed, stays visible for 1.5s on scroll-down,
 *             then slides up. Reappears immediately on scroll-up.
 *
 * Based on brik-bds animation library (animations.css)
 * Triggered by JS adding/removing .nav-hidden class
 */

/* UTILITY NAV - scrolls normally, sits above main nav */
/* First .navigation element without data-doc-height attribute */
.navigation.w-nav:not([data-doc-height]) {
  position: relative;
  z-index: 999 !important; /* Below main nav so main nav covers it when scrolling */
}

/* MAIN NAV - sticky with hide/show animation */
/* Target via data-doc-height="1" attribute */
/* JS controls the `top` value dynamically based on scroll position */
.navigation.w-nav[data-doc-height="1"] {
  position: fixed !important;
  left: 0;
  right: 0;
  z-index: 1000 !important;
  /* Smooth transitions for top (position) and transform (hide/show) */
  transition:
    top 0.2s ease-out,
    transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, top;
}

/* Hidden state - slides nav off screen */
.navigation.w-nav.nav-hidden {
  transform: translateY(-100%) !important;
}

/* Add shadow when nav is in scrolled state */
.navigation.w-nav.nav-scrolled {
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

/* ============================================= */
/*               END OF FILE                    */
/* ============================================= */
